(this["webpackJsonpvolunteer-hub-frontend"]=this["webpackJsonpvolunteer-hub-frontend"]||[]).push([[0],{49:function(e,t,a){e.exports=a.p+"static/media/volunteer_1.9f7c7fa9.jpg"},50:function(e,t,a){e.exports=a.p+"static/media/volunteer_2.cfa2bb21.jpg"},51:function(e,t,a){e.exports=a.p+"static/media/volunteer_3.aef32720.jpeg"},55:function(e,t,a){e.exports=a(74)},66:function(e,t,a){},68:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(29),c=a.n(r),o=a(6),i=Object(n.createContext)(),u=(a(60),a(21)),s=a(19),m=a(12),d=a(26),E=a(15),f=a(10),g=a.n(f),p=(a(66),function(){var e=Object(n.useContext)(i),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.l)(),u=Object(s.k)(),f=l.a.createElement(E.LinkContainer,{to:"/profile"},l.a.createElement(m.a.Link,null,"Profile")),p=l.a.createElement(E.LinkContainer,{to:"/login"},l.a.createElement(m.a.Link,null,"Login")),h=l.a.createElement(m.a.Link,{onClick:function(){r({user:{},isLoggedIn:!1}),g.a.remove("jwt"),u.push("/")}},"Logout");return l.a.createElement(d.a,{className:"shadow",bg:"light",expand:"lg"},l.a.createElement(E.LinkContainer,{to:"/"},l.a.createElement(d.a.Brand,null," VolunteerHub")),l.a.createElement(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(d.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(m.a,{className:"mr-auto"},a.isLoggedIn&&f,l.a.createElement(E.LinkContainer,{to:"/events"},l.a.createElement(m.a.Link,null,"Events"))),l.a.createElement(m.a,null,a.isLoggedIn?h:"/login"!==c.pathname&&"/signup"!==c.pathname&&p)))}),h=a(27),v=a(49),b=a.n(v),j=a(50),y=a.n(j),O=a(51),C=a.n(O),w=(a(68),function(){return l.a.createElement("div",null,l.a.createElement(h.a,null,l.a.createElement(h.a.Item,{className:"item"},l.a.createElement("img",{className:"img-responsive fit-image",src:b.a,alt:"volunteer event"})),l.a.createElement(h.a.Item,{className:"item"},l.a.createElement("img",{className:"img-responsive fit-image",src:y.a,alt:"volunteer event"})),l.a.createElement(h.a.Item,{className:"item"},l.a.createElement("img",{className:"img-responsive fit-image",src:C.a,alt:"volunteer event"}))),l.a.createElement("div",{className:"myCaption"},l.a.createElement("h1",null,"Join Us and find volunteering opportunities around the world!"),l.a.createElement("p",null,"Join our community and find different events around the world to volunteer in. Meet and and co-ordinate with people who are goind to the same events as you and enjoy your self through helping !!! If you are an organization, a Country or a City official register with us in order to be able to create, post or finance new volunteering events")))}),L=a(7),N=a(18),k="https://serene-scrubland-07596.herokuapp.com",x=function(){var e=Object(n.useContext)(i)[1],t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)(""),h=Object(o.a)(p,2),v=h[0],b=h[1];return r?l.a.createElement(s.c,{to:"/profile"}):l.a.createElement("div",{className:"container mt-5"},l.a.createElement(L.a,null,l.a.createElement(L.a.Group,{controlId:"formBasicEmail"},l.a.createElement(L.a.Label,null,"Email address"),l.a.createElement(L.a.Control,{type:"email",onChange:function(e){f(e.target.value)},value:d,placeholder:"Enter email"})),l.a.createElement(L.a.Group,{controlId:"formBasicPassword"},l.a.createElement(L.a.Label,null,"Password"),l.a.createElement(L.a.Control,{type:"password",onChange:function(e){b(e.target.value)},value:v,placeholder:"Password"})),l.a.createElement(N.a,{variant:"primary",onClick:function(){console.log("In handleLogin"),fetch(k+"/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d,password:v})}).then((function(e){return e.json()})).then((function(t){g.a.set("jwt",t.jwt),fetch(k+"/users/current",{headers:{Authorization:"Bearer "+g.a.get("jwt")}}).then((function(e){return e.json()})).then((function(t){e({user:t,isLoggedIn:!0}),c(!0)}))}))}},"Login"),l.a.createElement(E.LinkContainer,{to:"/signup"},l.a.createElement(N.a,{className:"ml-2",variant:"secondary"},"Sign Up"))))},I=a(54),S=a(14),B=a(52),z=a(34),A=a(35),P=(a(72),function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement("div",null,l.a.createElement(S.a,{className:"mx-5 mb-3"},l.a.createElement(S.a.Body,null,l.a.createElement(S.a.Title,null,e.title),l.a.createElement(S.a.Text,null,e.body),l.a.createElement("div",{className:"bot"},e.loggedIn&&!r&&l.a.createElement(N.a,{variant:"primary",onClick:function(){fetch("".concat(k,"/events/").concat(e.id),{headers:{Authorization:"Bearer "+g.a.get("jwt")}}).then((function(e){return c(!0)})).catch((function(e){return console.log(e)}))}},"Apply"),r&&l.a.createElement("em",null,"Applied"),l.a.createElement("p",null,l.a.createElement("em",{className:"mr-2"},e.date)," ",l.a.createElement("strong",null,e.location))))))}),T=(a(73),function(e){var t=e.user;switch(e.tab){case 1:return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",null,"My email is"),l.a.createElement("h3",null,t.email));case 3:return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",null,"I live in"),l.a.createElement("h3",null,t.country));default:return l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",null,"Hi, my name is"),l.a.createElement("h3",null,t.firstName," ",t.lastName))}}),G=function(){var e=Object(n.useContext)(i),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)("upcoming"),u=Object(o.a)(c,2),s=u[0],d=u[1],E=Object(n.useState)([]),f=Object(o.a)(E,2),p=f[0],h=f[1],v=Object(n.useState)([]),b=Object(o.a)(v,2),j=b[0],y=b[1];return Object(n.useEffect)((function(){console.log("User is logged in so i will get his info"),fetch(k+"/users/current",{headers:{Authorization:"Bearer "+g.a.get("jwt")}}).then((function(e){return e.json()})).then((function(e){return r(Object(I.a)({},a,{user:e}))}))}),[]),Object(n.useEffect)((function(){fetch(k+"/events/upcoming",{headers:{Authorization:"Bearer "+g.a.get("jwt")}}).then((function(e){return e.json()})).then((function(e){return h(e)}))}),[]),Object(n.useEffect)((function(){fetch(k+"/events/completed",{headers:{Authorization:"Bearer "+g.a.get("jwt")}}).then((function(e){return e.json()})).then((function(e){return y(e)}))}),[]),l.a.createElement("div",null,l.a.createElement(S.a,{className:"mx-5 mt-5 shadow text-center"},l.a.createElement(S.a.Header,null,l.a.createElement(B.a,{className:"shadow p-1",src:"https://s3.amazonaws.com/uifaces/faces/twitter/josephstein/128.jpg",roundedCircle:!0})),l.a.createElement(S.a.Body,null,l.a.createElement(T,{user:a.user,tab:s}),l.a.createElement("div",{className:"d-flex justify-content-around mx-5 mt-5 icons"},l.a.createElement(z.a,{id:"icon-1",className:"icon",icon:A.c,size:"2x",onClick:function(){return d(0)}}),l.a.createElement(z.a,{className:"icon",icon:A.a,size:"2x",onClick:function(){return d(1)}}),l.a.createElement(z.a,{className:"icon",icon:A.b,size:"2x",onClick:function(){return d(3)}})))),l.a.createElement(S.a,{className:"mx-5 my-5 shadow"},l.a.createElement(S.a.Header,null,l.a.createElement(m.a,{variant:"tabs",defaultActiveKey:"#upcoming"},l.a.createElement(m.a.Item,null,l.a.createElement(m.a.Link,{href:"#upcoming",onClick:function(){d("upcoming")}},"Upcoming")),l.a.createElement(m.a.Item,null,l.a.createElement(m.a.Link,{href:"#completed",onClick:function(){d("completed")}},"Completed")))),l.a.createElement(S.a.Body,{className:"mx-auto"},"upcoming"===s?p.map((function(e){return l.a.createElement(P,{key:e.eventId,title:e.title,body:e.body,location:e.location,date:e.date})})):j.map((function(e){return l.a.createElement(P,{key:e.eventId,title:e.title,body:e.body,location:e.location,date:e.date})})))))},J=function(){var e=Object(n.useContext)(i)[0],t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t="",a={};e.isLoggedIn?(t="/available",a={Authorization:"Bearer "+g.a.get("jwt")}):t="/all",fetch(k+"/events"+t,{headers:a}).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[e.isLoggedIn]),l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"ml-5 my-3"},"Available events"),r.map((function(t){return l.a.createElement(P,{key:t.eventId,id:t.eventId,loggedIn:e.isLoggedIn,title:t.title,body:t.body,location:t.location,date:t.date})})))},U=a(53),F=a(25),H=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(o.a)(c,2),u=i[0],m=i[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),g=f[0],p=f[1],h=Object(n.useState)(""),v=Object(o.a)(h,2),b=v[0],j=v[1],y=Object(n.useState)(!1),O=Object(o.a)(y,2),C=O[0],w=O[1],x=l.a.createElement("div",{className:"container mt-5"},l.a.createElement(L.a,null,l.a.createElement(U.a,null,l.a.createElement(F.a,null,l.a.createElement(L.a.Group,null,l.a.createElement(L.a.Label,null,"First name"),l.a.createElement(L.a.Control,{type:"text",onChange:function(e){return r(e.target.value)},value:a,placeholder:"Enter your first name..."}))),l.a.createElement(F.a,null,l.a.createElement(L.a.Group,null,l.a.createElement(L.a.Label,null,"Last name"),l.a.createElement(L.a.Control,{type:"text",onChange:function(e){return m(e.target.value)},value:u,placeholder:"Enter your last name..."})))),l.a.createElement(L.a.Group,null,l.a.createElement(L.a.Label,null,"Email address"),l.a.createElement(L.a.Control,{type:"email",onChange:function(e){return p(e.target.value)},value:g,placeholder:"Enter email"})),l.a.createElement(L.a.Group,null,l.a.createElement(L.a.Label,null,"Password"),l.a.createElement(L.a.Control,{type:"password",onChange:function(e){return j(e.target.value)},value:b,placeholder:"Password"})),l.a.createElement(N.a,{variant:"primary",onClick:function(){fetch(k+"/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:a,lastName:u,email:g,password:b})}).then((function(e){409===e.status?alert("User already exists!"):(alert("Login with your credentials"),w(!0))}))}},"Sign Up"),l.a.createElement(E.LinkContainer,{to:"/login"},l.a.createElement(N.a,{className:"ml-2",variant:"secondary"},"Login"))));return C?l.a.createElement(s.c,{to:"/login"}):x};var _=function(){var e=Object(n.useContext)(i)[0];return l.a.createElement(u.BrowserRouter,null,l.a.createElement(p,null),l.a.createElement(s.d,{exact:!0,path:"/"},l.a.createElement(w,null)),l.a.createElement(s.d,{path:"/login"},l.a.createElement(x,null)),l.a.createElement(s.d,{path:"/signup"},l.a.createElement(H,null)),l.a.createElement(s.d,{path:"/profile"},e.isLoggedIn?l.a.createElement(G,null):null),l.a.createElement(s.d,{path:"/events"},l.a.createElement(J,null)))};c.a.render(l.a.createElement((function(e){var t=Object(n.useState)({user:{},isLoggedIn:!1}),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement(i.Provider,{value:[r,c]},e.children)}),null,l.a.createElement(_,null)),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.f121595c.chunk.js.map